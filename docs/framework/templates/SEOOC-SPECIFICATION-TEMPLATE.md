# SEooC 安全元件規格（離脈絡安全元件）

**Feature ID**: [FEATURE-ID]  
**Feature Name**: [FEATURE-NAME]  
**Version**: 1.0.0  
**Date Created**: [DATE]  
**Last Modified**: [DATE]  
**Author**: [AUTHOR]  
**Status**: [DRAFT | REVIEW | APPROVED]

---

## 1. 概述

### 1.1 目的
本文件定義 SEooC（Safety Element out of Context）規格，從功能安全需求推導技術安全需求（TSR），為後續系統規格架構書中的硬體安全需求（HSR）和軟體安全需求（SSR）分配奠定基礎。

### 1.2 適用範圍
- **產品**: [PRODUCT-NAME]
- **模塊/元件**: [COMPONENT-NAME]
- **ASIL等級**: [ASIL-A | ASIL-B | ASIL-C | ASIL-D | QM]
- **ISO 26262版本**: ISO 26262-1:2018
- **應用領域**: [如：SSD Controller, Power Management 等]

### 1.3 相關文件
- **安全目標 (SG)**: [參考編號]
- **功能安全需求 (FSR)**: [參考編號]
- **系統安全需求 (SYSREQ)**: [參考編號]
- **系統規格架構書**: [參考編號 - 用於 TSR → HSR/SSR 分配]

---

## 2. SEooC 定義

### 2.1 安全元件背景
```
安全目標 (SG)
     ↓
功能安全需求 (FSR) - 從 SG 推導
     ↓
系統安全需求 (SysReq) - 系統層級，描述功能和介面
     ↓
技術安全需求 (TSR) - 本文件定義，技術實現層級
     ↓
硬體安全需求 (HSR) 和 軟體安全需求 (SSR)
     ↓ [在系統規格架構書中分配]
系統規格架構書
```

### 2.2 SEooC 的作用
- **推導 TSR**: 從功能需求推導出技術實現層級的安全需求
- **規範實現邊界**: 明確定義硬體和軟體的分界
- **建立追蹤**: 建立 FSR → TSR → HSR/SSR 的雙向追蹤
- **支援分配**: 為系統規格架構書中的需求分配提供基礎

---

## 3. 功能安全需求推導

### 3.1 相關功能安全需求 (FSR)

| FSR ID | 需求文本 | ASIL | 來源 (SG) | 驗證方法 |
|--------|---------|------|----------|---------|
| FSR-001 | [描述功能安全需求] | [ASIL] | [SG-ID] | [分析/測試/檢查] |
| FSR-002 | [描述功能安全需求] | [ASIL] | [SG-ID] | [分析/測試/檢查] |
| FSR-NNN | ... | ... | ... | ... |

### 3.2 故障假設
- **故障模式**: [描述可能的故障模式]
- **故障後果**: [對系統安全性的影響]
- **FMEA 參考**: [FMEA 編號]

---

## 4. 技術安全需求 (TSR) 推導

### 4.1 TSR 定義方法
技術安全需求將功能需求轉化為可實現和可驗證的技術規格。每個 TSR 必須：
- 可追蹤回相應的 FSR 和 SG
- 可分配到 HSR 或 SSR（或同時分配）
- 明確定義驗證方法和標準
- 指定 ASIL 等級（繼承或升級）

### 4.2 推導的技術安全需求

#### TSR-001: [需求標題]
- **ID**: TSR-001
- **需求文本**: [具體的技術實現要求，描述"是什麼"而非"如何做"]
- **來源 (FSR)**: [FSR-001]
- **ASIL 等級**: [ASIL-A/B/C/D/QM]
- **分類**: [偵測 | 控制 | 隔離 | 故障安全 | 健康檢查]
- **實現邊界**:
  - 硬體部分: [若需要，簡述硬體涉及部分]
  - 軟體部分: [若需要，簡述軟體涉及部分]
  - 介面: [硬體/軟體之間的介面要求]
- **驗證方法**: [分析 | 測試 | 檢查 | 文獻審查]
- **驗證準則**: [具體的通過/失敗標準]
- **備註**: [任何額外說明]

#### TSR-002: [需求標題]
- **ID**: TSR-002
- **需求文本**: [...]
- **來源 (FSR)**: [FSR-002]
- **ASIL 等級**: [...]
- **分類**: [...]
- **實現邊界**:
  - 硬體部分: [...]
  - 軟體部分: [...]
  - 介面: [...]
- **驗證方法**: [...]
- **驗證準則**: [...]
- **備註**: [...]

#### TSR-NNN: [需求標題]
...

---

## 5. ASIL 繼承分析

### 5.1 ASIL 映射表
| FSR ID | FSR ASIL | TSR ID | TSR ASIL | ASIL 變化 | 理由 |
|--------|----------|--------|----------|----------|------|
| FSR-001 | ASIL-D | TSR-001 | ASIL-D | 保持 | 直接推導，無分解 |
| FSR-002 | ASIL-C | TSR-002 | ASIL-C | 保持 | 直接推導 |
| ... | ... | ... | ... | ... | ... |

### 5.2 ASIL 升級/降級論證
- **若升級**: [說明為何需要提升 ASIL 等級]
- **若降級**: [說明獨立故障處理的論證，參考 ISO 26262-3 Part 8]

---

## 6. 硬體/軟體分界定義

### 6.1 分界原則
```
硬體實現 (HSR)          軟體實現 (SSR)
├─ 故障偵測            ├─ 故障處理邏輯
├─ 信號監控             ├─ 診斷程序
├─ 安全機制             ├─ 安全狀態機
├─ 故障切割             ├─ 故障報告
└─ 硬體故障安全         └─ 軟體故障恢復
```

### 6.2 TSR 分配矩陣

| TSR ID | TSR 標題 | 分配到 HSR | 分配到 SSR | 硬體/軟體介面 |
|--------|----------|-----------|-----------|--------------|
| TSR-001 | [標題] | HSR-001 | SSR-001 | [介面要求] |
| TSR-002 | [標題] | HSR-002 | - | N/A |
| TSR-003 | [標題] | - | SSR-002 | N/A |
| ... | ... | ... | ... | ... |

### 6.3 硬體/軟體介面規範
- **信號介面**: [硬體到軟體的信號定義]
- **資料格式**: [交換資料的格式規定]
- **時序要求**: [同步/非同步、延遲、響應時間]
- **故障通知機制**: [硬體如何通知軟體故障發生]
- **恢復協議**: [軟體如何觸發硬體恢復]

---

## 7. 安全分析與故障假設

### 7.1 FMEA（故障模式與影響分析）

| 故障模式 | 可能原因 | 影響 | 檢測方法 | RPN | 相關 TSR | 備註 |
|---------|---------|------|---------|-----|---------|------|
| [模式1] | [原因1] | [影響] | [檢測] | [RPN] | TSR-001 | ... |
| [模式2] | [原因2] | [影響] | [檢測] | [RPN] | TSR-002 | ... |

### 7.2 故障樹分析 (FTA)
```
[頂事件：系統安全失效]
        |
    ├── [中間事件1]
    │   ├── [基本事件A]
    │   └── [基本事件B]
    └── [中間事件2]
        └── [基本事件C]
```

### 7.3 診斷覆蓋率 (DC) 和故障排除覆蓋率 (FRAC)
- **目標 DC**: [目標診斷覆蓋率, 如 95%]
- **實現方法**: [硬體健康檢查、軟體監控、冗餘等]
- **目標 FRAC**: [故障排除覆蓋率]
- **安全機制**: [故障時的安全狀態切換]

---

## 8. 驗證策略

### 8.1 驗證層級
```
單元驗證
├─ 硬體單元測試 (UVM)
├─ 軟體單元測試 (C 單元測試)
└─ 靜態分析

整合驗證
├─ 硬體整合測試
├─ 軟體整合測試
└─ 硬體/軟體介面測試

系統驗證
├─ 系統功能測試
├─ 故障注入測試
└─ 安全場景測試

資格認證
└─ 客戶驗收測試 (CAT)
```

### 8.2 每個 TSR 的驗證方法

| TSR ID | 驗證方法 | 測試/分析用例 | 預期結果 | 驗證層級 | 合格標準 |
|--------|---------|-------------|---------|---------|---------|
| TSR-001 | [分析/測試/檢查] | [描述用例] | [預期結果] | [層級] | [通過標準] |
| TSR-002 | ... | ... | ... | ... | ... |

---

## 9. 追蹤矩陣

### 9.1 正向追蹤（需求流向）
```
SG-001 (安全目標)
   → FSR-001 (功能安全需求)
   → TSR-001 (技術安全需求)
   → HSR-001/SSR-001 (在系統規格架構書中)
```

### 9.2 反向追蹤（實現回溯）
```
HSR-001 (硬體安全需求)
   ← TSR-001 (技術安全需求)
   ← FSR-001 (功能安全需求)
   ← SG-001 (安全目標)
```

### 9.3 追蹤表
| SG ID | FSR ID | TSR ID | HSR ID | SSR ID | 驗證方法 | 狀態 |
|-------|--------|--------|--------|--------|---------|------|
| SG-001 | FSR-001 | TSR-001 | HSR-001 | SSR-001 | 測試 | ✓ 完成 |
| ... | ... | ... | ... | ... | ... | ... |

---

## 10. 配置與版本管理

### 10.1 版本歷史
| 版本 | 日期 | 作者 | 主要變更 | 審查人 | 狀態 |
|------|------|------|---------|--------|------|
| 1.0.0 | [DATE] | [AUTHOR] | 初始版本 | [REVIEWER] | APPROVED |
| ... | ... | ... | ... | ... | ... |

### 10.2 變更控制
- **變更編號**: [CR-NNN]
- **變更原因**: [業務 / 缺陷 / 改進]
- **影響分析**: [哪些 TSR/HSR/SSR 受影響]
- **核准人**: [Chief Architect / Project Manager]

---

## 11. 附錄

### 11.1 術語表
| 術語 | 定義 |
|------|------|
| SEooC | Safety Element out of Context（離脈絡安全元件） |
| TSR | Technical Safety Requirement（技術安全需求） |
| HSR | Hardware Safety Requirement（硬體安全需求） |
| SSR | Software Safety Requirement（軟體安全需求） |
| ASIL | Automotive Safety Integrity Level（汽車功能安全完整性等級） |
| FMEA | Failure Mode & Effects Analysis（故障模式與影響分析） |
| FTA | Fault Tree Analysis（故障樹分析） |
| DC | Diagnostic Coverage（診斷覆蓋率） |
| FRAC | Failure Rate Avoidance/Controllability（故障排除覆蓋率） |

### 11.2 參考文件
- ISO 26262-1:2018 - 功能安全—電氣/電子/可編程電子安全相關系統第 1 部分：一般要求
- ISO 26262-3:2018 - 第 3 部分：系統層級的概念階段
- ISO 26262-4:2018 - 第 4 部分：產品開發：系統層級
- [其他相關標準及文件]

### 11.3 簽核
| 角色 | 名字 | 簽署 | 日期 |
|------|------|------|------|
| 作者 | [AUTHOR] | _____ | [DATE] |
| 設計主管 | [DESIGN-LEAD] | _____ | [DATE] |
| 驗證主管 | [VERIFICATION-LEAD] | _____ | [DATE] |
| 首席架構師 | [CHIEF-ARCHITECT] | _____ | [DATE] |
| 專案經理 | [PROJECT-MANAGER] | _____ | [DATE] |

---

**End of SEooC Specification Template**
